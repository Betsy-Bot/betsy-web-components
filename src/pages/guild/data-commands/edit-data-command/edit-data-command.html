<section id="edit-data-command">
    <div class="row">
        <div class="col-8">
            <feature-header
                doc-url="https://docs.betsybot.xyz/configurable-commands/data-commands"
                title="${isNew ? 'Create' : 'Edit'} Data Command"
                subtitle="Data commands are commands that gather information and relay that information to this admin panel or your own API integration. This can be captured in a form, a message embed, or just through command parameters."
            ></feature-header>

            <form submit.trigger="save()" if.bind="command">
                <div class="mt-4">
                    <discord-command-creator command.two-way="command"></discord-command-creator>
                </div>

                <moo-tab-bar>
                    <moo-tab
                        label="Form Command"
                        tab.bind="tab"
                        value="form"
                        active.bind="tab === 'form'"
                    ></moo-tab>
                    <moo-tab
                        label="REST Request Command"
                        active.bind="tab === 'rest'"
                        value="rest"
                        tab.bind="tab"
                    ></moo-tab>
                </moo-tab-bar>

                <template if.bind="tab === 'form'">
                    <div class="my-2 fs-6 fw-bolder">
                        Form commands will open a created form once executed
                    </div>
                    <discord-form-selector
                        label="Select form to open"
                        form-id.two-way="command.discordCommandActions[0].discordFormId"
                    ></discord-form-selector>
                </template>

                <template if.bind="tab === 'rest'">
                    <div class="my-2 fs-6 fw-bolder">
                        REST Requests commands send a POST/PUT/PATCH to your entered API.
                    </div>
                    <rest-request-builder command.bind="command" action.bind="command.discordCommandActions[0]"></rest-request-builder>
                </template>


                <div elevation="12" class="mt-4 p-3">
                    <div>
                        Command Response Message
                    </div>
                    <discord-action-creator
                        single.bind="true"
                        action.bind="command.discordCommandActions[0]"
                        command.bind="command"
                        forced-type.bind="true"
                    ></discord-action-creator>

                    <div class="mt-5">
                        <div class="text-end mt-3">
                            <moo-button variant="primary" type="submit" class="button-primary">
                                Save
                            </moo-button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-4">
            <discord-message-preview
                message.two-way="command.discordCommandActions[0].discordMessage.message"></discord-message-preview>
        </div>
    </div>
</section>
