<template>
    <confirmation-dialog
        cancel-text="Cancel"
        confirm-text="Delete"
        dialog.two-way="confirmDeleteDialog"
        handler.call="deleteItem(event)"
        title="Are you sure you would like to delete?"
    >
        This is a permanent action and cannot be undone
    </confirmation-dialog>
    <section id="create-data-command">
        <div class="row">
            <div class="col-12 col-lg-8">
                <discord-feature-header
                    doc-url="https://docs.betsybot.xyz/features/tracked-messages"
                    title="${isNew ? 'Create' : 'Edit'} Tracked Message"
                    subtitle="Tracked Messages are just normal messages that you keep track of. This allows you to edit them without resending/using a command/etc."
                    delete-function.call="confirmDeleteDialog.open()"
                    copy-function.call="copy()"
                ></discord-feature-header>

                <form submit.delegate="save()">
                    <discord-tracked-message-settings
                        message.two-way="message"
                        guild-id.bind="guildId"
                    ></discord-tracked-message-settings>

                    <discord-message-creator
                        message.two-way="message.discordMessage.message"
                        allow-components.bind="true"
                        max-components.bind="5"
                    ></discord-message-creator>

                    <div class="text-end mt-3">
                        <button type="submit" mdc-button class="button-primary">
                            Save
                        </button>
                    </div>
                </form>
            </div>
            <div class="col-12 col-lg-4">
                <discord-message-preview message.two-way="message.discordMessage.message"></discord-message-preview>
            </div>
        </div>
    </section>
</template>
