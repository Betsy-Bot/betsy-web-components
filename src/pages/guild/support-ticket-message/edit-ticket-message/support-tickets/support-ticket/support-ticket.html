<template>
    <section id="support-ticket">
        <discord-feature-header
            title="Support Ticket"
            subtitle="View the transcript and any additional information for a support ticket."
        ></discord-feature-header>

        <div class="my-3">
            <div class="my-3">
                <button mdc-button class="button-primary" if.bind="!supportTicket.closed" click.delegate="closeTicket()">
                    Close Ticket
                </button>
            </div>
            <template if.bind="supportTicket.transcript">
                <a href="transcript/${supportTicket.id}">
                    <button mdc-button class="button-primary">
                        Direct Transcript Link
                    </button>
                </a>

                <div class="mt-3">
                    <support-ticket-transcript support-ticket.bind="supportTicket"></support-ticket-transcript>
                </div>
            </template>
        </div>

        <h5 class="empty mt-4" if.bind="!supportTicket.transcript">
            The ticket has yet had its transcript generated. The transcript is generated when the ticket is closed, or by using "/ticket transcript"
        </h5>
    </section>
</template>
