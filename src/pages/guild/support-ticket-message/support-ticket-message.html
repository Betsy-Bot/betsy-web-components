<template>
    <section id="support-tickets">
        <div class="row">
            <div class="col-8">
                <discord-feature-header
                    title="Support Tickets"
                    subtitle="Create a support ticket tracking system. Create your message with the 'Create Ticket' component. Open tickets to your selected category. When tickets are closed the entire channel transcript is saved."
                ></discord-feature-header>

                <a href="/guild/${guildId}/support-tickets/create" if.bind="guildId" class="mt-2">
                    <button mdc-button class="button-primary">
                        Create New Support Ticket Message
                    </button>
                </a>

                <div class="existing-commands-area mt-4">
                    <feature-item-list
                        if.bind="!loading"
                        show-toggler.bind="true"
                        data.bind="messages"
                        item-click-handler.call="goToMessage(item)"
                        toggle-handler.call="updateActive(item)"
                    ></feature-item-list>
                    <div else>
                        <mdc-circular-progress size="50" stroke-width="3"></mdc-circular-progress>
                    </div>
                </div>
            </div>
            <div class="col-4 text-end">
                <button
                    mdc-switch
                    selected.bind="featureActive"
                    value.bind="featureActive"
                    change.delegate="toggleFeature()"
                ></button>
                <label mdc-tooltip="When de-activated all commands will no longer work" class="me-5">Active?</label>
            </div>
        </div>
    </section>
</template>
