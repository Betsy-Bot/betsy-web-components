<template>
    <section id="discord-form-creator" if.bind="form">
        <mdc-text-field
            class="w-100 mt-2"
            label="Title"
            value.bind="form.title"
            placeholder="Form Title"
            required.bind="true"
        ></mdc-text-field>
        <mdc-text-field
            class="w-100 mt-2"
            label="Internal description"
            value.bind="form.description"
            placeholder="Describe the form so you know what it was used for later"
            required.bind="true"
        ></mdc-text-field>

        <mdc-text-field
            mdc-tooltip="Used for API Integrations - Not actually visible"
            class="w-100 mt-2"
            label="Custom Id"
            value.bind="form.customId"
            placeholder="Custom ID -> Used for API integrations"
            required.bind="true">
            <mdc-icon mdc-text-field-icon trailing class="text-white">info</mdc-icon>
        </mdc-text-field>

        <button mdc-button class="button-primary mt-4" click.delegate="addField()" if.bind="form.formData.components.length < 5">
            Add New Field
        </button>

        <div class="field-container row g-4 mb-3">
            <div class="col-12 col-lg-6" repeat.for="component of form.formData.components">
                <div mdc-elevation="12" repeat.for="field of component.components">
                    <div class="text-end text-danger me-1 mt-1">
                        <span class="cursor-pointer" click.delegate="deleteField($parent.$index)">X</span>
                    </div>
                    <mdc-select class="standard-betsy-select w-100" value.bind="field.type" label="Field Type" required.bind="true">
                        <mdc-icon mdc-select-icon>text_format</mdc-icon>
                        <mdc-list>
                            <mdc-list-item repeat.for="type of fieldTypes" value.bind="type.value" disabled.bind="type.disabled">
                                ${type.label}
                                <span class="ms-1" if.bind="type.disabled">- Coming Soon</span>
                            </mdc-list-item>
                        </mdc-list>
                    </mdc-select>
                    <mdc-select class="standard-betsy-select w-100" value.bind="field.style" label="Field Type" required.bind="true" if.bind="field.type === 4">
                        <mdc-icon mdc-select-icon>text_format</mdc-icon>
                        <mdc-list>
                            <mdc-list-item repeat.for="type of textInputType" value.bind="type.value" disabled.bind="type.disabled">
                                ${type.label}
                            </mdc-list-item>
                        </mdc-list>
                    </mdc-select>
                    <mdc-text-field
                        class="w-100 mt-2"
                        label="Label"
                        value.bind="field.label"
                        placeholder="Field Label"
                        required.bind="true"
                    ></mdc-text-field>
                    <mdc-text-field
                        class="w-100 mt-2"
                        label="Description"
                        value.bind="field.description"
                        placeholder="Field Description"
                        required.bind="true"
                    ></mdc-text-field>
                    <mdc-text-field
                        mdc-tooltip="Used for API Integrations - Not actually visible"
                        class="w-100 mt-2"
                        label="Custom Id"
                        value.bind="field.custom_id"
                        placeholder="Custom ID -> Used for API integrations"
                        required.bind="true">
                        <mdc-icon mdc-text-field-icon trailing class="text-white">info</mdc-icon>
                    </mdc-text-field>
                    <div class="row" if.bind="field.type === 4">
                        <div class="col-12 col-lg-6">

                        </div>
                        <div class="col-12 col-lg-6">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</template>
