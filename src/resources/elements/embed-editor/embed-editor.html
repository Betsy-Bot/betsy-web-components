<template>
    <section id="embed-editor">
        <moo-accordion header="Author">
            <moo-text-field
                class="w-100 mt-2"
                label="Author Name"
                value.bind="embed.author.name"
            ></moo-text-field>

            <moo-text-field
                class="w-100 mt-2"
                label="Author URL"
                value.bind="embed.author.url"
            ></moo-text-field>

            <moo-text-field
                class="w-100 mt-2"
                label="Author Icon URL"
                value.bind="embed.author.icon_url"
            ></moo-text-field>
        </moo-accordion>
        <moo-accordion header="Main Body">
            <moo-text-field
                class="w-100 mt-2"
                label="Embed Title"
                value.bind="embed.title"
            ></moo-text-field>

            <div class="mt-2">
                <discord-markup-editor
                    label="Embed Description"
                    value.two-way="embed.description"
                ></discord-markup-editor>
            </div>

            <moo-text-field
                class="w-100 mt-2"
                label="Embed URL"
                value.bind="embed.url"
            ></moo-text-field>

            <moo-text-field
                class="w-100 mt-2"
                label="Embed Image URL"
                value.bind="embed.image.url"
            ></moo-text-field>

            <moo-text-field
                class="w-100 mt-2"
                label="Embed Thumbnail URL"
                value.bind="embed.thumbnail.url"
            ></moo-text-field>

            <!--            <mdc-text-field-->
            <!--                class="w-100 mt-2"-->
            <!--                label="Embed Video URL"-->
            <!--                value.bind="embed.video.url"-->
            <!--            ></moo-text-field>-->

            <moo-button class="button-primary mt-3" click.trigger="() => addField()">
                Add Field
            </moo-button>

            <div class="row" if.bind="embed.fields">
                <div class="col-12 col-lg-6" repeat.for="field of embed.fields">
                    <mdc-form-field class="mt-2">
                        <moo-switch value.bind="field.inline"></moo-switch>
                        <label>Inline?</label>
                    </mdc-form-field>
                    <moo-text-field
                        class="w-100 mt-2"
                        label="Field Name"
                        value.bind="field.name"
                        required.bind="true"
                    ></moo-text-field>
                    <div class="mt-2">
                        <discord-markup-editor
                            label="Field Value"
                            value.two-way="field.value"
                        ></discord-markup-editor>
                    </div>
                    <button mdc-button class="button-secondary" click.trigger="deleteField($index)">
                        Delete Field
                    </button>
                </div>
            </div>

            <color-picker
                label="Embed Colour"
                value.two-way="embed.color"
            ></color-picker>
        </moo-accordion>
        <moo-accordion header="Footer">
            <moo-text-field
                class="w-100 mt-2"
                label="Footer Content"
                value.bind="embed.footer.text"
            ></moo-text-field>

            <moo-text-field
                class="w-100 mt-2"
                label="Footer Icon URL"
                value.bind="embed.footer.icon_url"
            ></moo-text-field>

            <!--            <mdc-text-field-->
            <!--                    class="w-100 mt-2"-->
            <!--                    label="Footer Timestamp"-->
            <!--                    value.bind="embed.timestamp"-->
            <!--            ></moo-text-field>-->
        </moo-accordion>
    </section>

</template>
