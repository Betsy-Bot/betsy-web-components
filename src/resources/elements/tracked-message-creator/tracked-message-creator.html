<template>
    <section id="tracked-message-creator">
        <div class="row g-4">
            <div class="col-12 col-lg-6">
                <div class="mt-3">
                    <div class="mt-1 mb-3 text-warning fs-7 d-inline-flex align-content-center">
                <span class="material-icons me-2">
                    info
                </span>
                        The category selected will be used to create the new channels.
                    </div>
                </div>
                <discord-channel-selector
                    label="Select Category"
                    if.bind="guildId"
                    channel-id.two-way="request.discordCategoryId"
                    guild-id.bind="guildId"
                    type.bind="4"
                    required.bind="true"
                ></discord-channel-selector>

            </div>
            <div class="col-12 col-lg-6">
                <div class="mt-3">
                    <div class="mt-1 mb-3 text-warning fs-7 d-inline-flex align-content-center">
                    <span class="material-icons me-2">
                        info
                    </span>
                        The channel selected will be used to house the created ticket message.
                    </div>
                </div>
                <discord-channel-selector
                    label="Select Channel for Message"
                    if.bind="guildId"
                    channel-id.two-way="request.discordChannelId"
                    guild-id.bind="guildId"
                    type.bind="0"
                    required.bind="true"
                ></discord-channel-selector>
            </div>
            <div class="col-12 col-lg-6">
                <div class="mt-3">
                    <div class="mt-1 mb-3 text-warning fs-7 d-inline-flex align-content-center">
                    <span class="material-icons me-2">
                        info
                    </span>
                        Any relevant logging information will be sent to this channel.
                    </div>
                </div>
                <discord-channel-selector
                    label="Select Channel for Audits"
                    if.bind="guildId"
                    channel-id.two-way="request.settings.logChannelId"
                    guild-id.bind="guildId"
                    type.bind="0"
                    required.bind="true"
                ></discord-channel-selector>
            </div>
            <div class="col-12 col-lg-6">
                <div class="mt-3">
                    <div class="mt-1 mb-3 text-warning fs-7 d-inline-flex align-content-center">
                    <span class="material-icons me-2">
                        info
                    </span>
                        If no roles are selected only users with administrator permission will be able to see the created messages
                    </div>
                </div>
                <discord-role-selector
                    label="Select Authorized Roles"
                    selected-role.two-way="authorizedRole"
                    guild-id.bind="guildId"
                ></discord-role-selector>
                <mdc-chip-set input if.bind="roles">
                    <!-- Compact notation -->
                    <mdc-chip repeat.for="role of request.settings.assignedRoles">
                        ${getRoleName(role)}
                        <span click.delegate="removeRole($index)" trailing>X</span>
                    </mdc-chip>
                </mdc-chip-set>
            </div>
        </div>

        <div class="mt-5">
            <discord-message-creator
                allow-components.bind="allowComponents"
                message.bind="request.message"
                single.bind="true"
            ></discord-message-creator>
        </div>
    </section>
</template>
